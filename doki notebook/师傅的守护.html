<!DOCTYPE html>
<html lang="zh-CN">
<head>
<!-- 2020-01-15 Wed 11:51 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>&lrm;</title>
<meta name="generator" content="Org mode">
<meta name="author" content="时中贺">
<link rel="stylesheet" type="text/css" href="http://www.langdebuqing.com/css/style.css" />
<link rel="shortcut icon" href="http://www.langdebuqing.com/images/favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="preamble" class="status">
<div id="navbar">
    <ul>
        <li id="site-master"><a href="http://www.langdebuqing.com">浪的不轻</a></li>
        <li><a class="navbar-item" href="http://www.langdebuqing.com/gallery.html">Gallery</a> </li>
        <li><a class="navbar-item" href="http://www.langdebuqing.com/notebooks.html">Notebooks</a> </li>
        <li><a class="navbar-item" href="http://www.langdebuqing.com/links.html">Links</a> </li>
        <li><a class="navbar-item" href="http://www.langdebuqing.com/about.html">About</a> </li>
        <li class="search">
            <form action="http://google.com/search" method="get" accept-charset="utf-8">
                <input type="search" id="search" name="q" autocomplete="off" maxlength="30" placeholder="Google..">
                <input type="hidden" name="q" value="site:www.langdebuqing.com">
            </form>
        </li>
    </ul>
</div>
</div>
<div id="content">
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org17adae7">1. 需求</a>
<ul>
<li><a href="#org269caa8">1.1. 报名</a>
<ul>
<li><a href="#orgc60abb1">1.1.1. 徒弟端</a>
<ul>
<li><a href="#org369b755">1.1.1.1. 师傅列表接口</a></li>
<li><a href="#org6ddf87c">1.1.1.2. 申请拜师接口</a></li>
</ul>
</li>
<li><a href="#org1907e0e">1.1.2. 师傅端</a>
<ul>
<li><a href="#org27df042">1.1.2.1. 徒弟列表接口，用于展示申请拜师的徒弟列表</a></li>
<li><a href="#org01419a5">1.1.2.2. 接受拜师申请</a></li>
<li><a href="#org961be1b">1.1.2.3. 我的徒弟接口</a></li>
<li><a href="#orgba166d3">1.1.2.4. 解除师徒关系接口</a></li>
</ul>
</li>
<li><a href="#org29c7d6f">1.1.3. 申请逻辑</a></li>
</ul>
</li>
<li><a href="#orga060aab">1.2. 加分规则？分榜总榜加分规则？直播间弹窗等展示的分数是哪个分数？</a></li>
<li><a href="#org171c5f5">1.3. 直播间弹窗</a>
<ul>
<li><a href="#orgc23ff25">1.3.1. 徒弟端</a></li>
<li><a href="#org1ba52a6">1.3.2. 师傅端</a></li>
</ul>
</li>
<li><a href="#orga428d95">1.4. 冲刺时刻浮动icon</a></li>
</ul>
</li>
<li><a href="#orga2fd503">2. 注意事项</a>
<ul>
<li><a href="#orgb45352e">2.1. 师傅拒绝徒弟，申请列表标志状态</a></li>
<li><a href="#orgb801e3a">2.2. 师傅列表是否需要登陆</a></li>
<li><a href="#org884dea2">2.3. 判断师傅徒弟接口</a></li>
<li><a href="#org6d1abb3">2.4. 师傅可以解除师徒关系，徒弟不能解除师徒关系，需要提前向用户说明。否则很可能出现一大波想解除师徒关系的徒弟</a></li>
</ul>
</li>
<li><a href="#orgd4b9439">3. 开发排期</a>
<ul>
<li><a href="#org09b5cce">3.1. http 接口  4d</a>
<ul>
<li><a href="#orgb810d59">3.1.1. 判断师傅徒弟接口    1d</a></li>
<li><a href="#org5f3c418">3.1.2. 师傅列表接口        1d</a></li>
<li><a href="#orge1a44be">3.1.3. 申请接口            1d</a></li>
<li><a href="#org337db6b">3.1.4. 申请列表接口        1d</a></li>
<li><a href="#org42f35ce">3.1.5. 接受/拒绝拜师申请接口  1.5d</a></li>
<li><a href="#org76c45fb">3.1.6. 我的徒弟接口        0.5d</a></li>
<li><a href="#orgdd1baa3">3.1.7. 解除关系接口        1.5d</a></li>
<li><a href="#orgfeffeff">3.1.8. 直播间弹窗接口      1d</a></li>
</ul>
</li>
<li><a href="#orga53c32e">3.2. 加分模块 2.5d</a>
<ul>
<li><a href="#orged98ae8">3.2.1. 正常加分。加日榜、总榜  2d</a></li>
</ul>
</li>
<li><a href="#org4647761">3.3. 浮动 icon 1.5d</a></li>
<li><a href="#org417e213">3.4. buffer 时间  1d</a></li>
<li><a href="#org6b2bb17">3.5. 总 9d  25号联调</a></li>
</ul>
</li>
<li><a href="#org0ef267e">4. sql</a></li>
<li><a href="#orgf2ee143">5. 运营配置</a></li>
<li><a href="#org535603b">6. 重启模块</a></li>
<li><a href="#org9c36f58">7. 上线</a></li>
<li><a href="#orgcbda68c">8. 联调</a>
<ul>
<li><a href="#orgce7f55c">8.1. 师傅列表带show信息</a></li>
<li><a href="#org30fb1c1">8.2. 师傅列表未下发该师傅已申请字段</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
+TITLE: 师傅的守护<br>
</p>

<div id="outline-container-org17adae7" class="outline-2">
<h2 id="org17adae7"><span class="section-number-2">1</span> 需求</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org269caa8" class="outline-3">
<h3 id="org269caa8"><span class="section-number-3">1.1</span> 报名</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>根据主播等级 [1, 29), [30, ) 划分新人、师傅。其中师傅必须是最近 3 个月开播过的。<br></li>
<li>报名阶段主播升级到 30 级怎么办？师傅列表提前写死<br></li>
</ul>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #5f8700;">select</span> aa.uid, bb.total_received_credits, aa.screen_name, aa.last_login_time, ctime, mtime
<span style="color: #5f8700;">from</span> miveshow.users aa, 
(<span style="color: #5f8700;">select</span> uid, total_received_credits <span style="color: #5f8700;">from</span> miveshow_money.user_credits <span style="color: #5f8700;">where</span> total_received_credits &gt;= 10000000) bb 
<span style="color: #5f8700;">where</span> aa.uid = bb.uid <span style="color: #5f8700;">and</span> aa.last_login_time &gt;= "2019-11-01 00:00:00";
</pre>
</div>
</div>
<div id="outline-container-orgc60abb1" class="outline-4">
<h4 id="orgc60abb1"><span class="section-number-4">1.1.1</span> 徒弟端</h4>
<div class="outline-text-4" id="text-1-1-1">
</div>
<div id="outline-container-org369b755" class="outline-5">
<h5 id="org369b755"><span class="section-number-5">1.1.1.1</span> 师傅列表接口</h5>
<div class="outline-text-5" id="text-1-1-1-1">
</div>
<ol class="org-ol">
<li><a id="org96f048d"></a>徒弟已经有一个师傅了：徒弟已经发出申请，并且师傅通过时，返回什么？不必再返回师傅<br></li>
<li><a id="org4eaab53"></a>分页。30 级以上的主播总共有 61 个，是否需要分页？不需要<br></li>
<li><a id="orgedd1e7e"></a>元数据<br>
<div class="outline-text-6" id="text-1-1-1-1-3">
<ul class="org-ul">
<li>师傅信息：头像、昵称、主播等级等<br></li>
<li>该师傅的申请总次数<br></li>
<li>该师傅的最大徒弟数量，当前徒弟数量<br></li>
<li>徒弟剩余拜师名额、当天剩余申请次数。每天最多申请 5 次<br></li>
</ul>
</div>
</li>
<li><a id="orge677e5c"></a>师傅们如何排序?按主播等级逆序<br></li>
</ol>
</div>
<div id="outline-container-org6ddf87c" class="outline-5">
<h5 id="org6ddf87c"><span class="section-number-5">1.1.1.2</span> 申请拜师接口</h5>
<div class="outline-text-5" id="text-1-1-1-2">
<ul class="org-ul">
<li>拜师宣言<br></li>
<li>返回值<br>
<ul class="org-ul">
<li>已提交申请、今日报名名额已用完、该师傅已招满<br></li>
</ul></li>
<li>向师傅发送拜师系统私信。点击进入h5收徒申请页面。需要和客户端确认是否支持？<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org1907e0e" class="outline-4">
<h4 id="org1907e0e"><span class="section-number-4">1.1.2</span> 师傅端</h4>
<div class="outline-text-4" id="text-1-1-2">
</div>
<div id="outline-container-org27df042" class="outline-5">
<h5 id="org27df042"><span class="section-number-5">1.1.2.1</span> 徒弟列表接口，用于展示申请拜师的徒弟列表</h5>
<div class="outline-text-5" id="text-1-1-2-1">
</div>
<ol class="org-ol">
<li><a id="org2e27c13"></a>师傅已收满徒弟，如何返回数据？依然返回申请列表<br></li>
<li><a id="org9e521ae"></a>收徒成功时，客户端打对勾<br></li>
<li><a id="org2706a86"></a>活动开始，不返回数据<br></li>
<li><a id="org881a6ed"></a>元数据<br>
<div class="outline-text-6" id="text-1-1-2-1-4">
<ul class="org-ul">
<li>徒弟信息：头像、昵称、主播等级等<br></li>
<li>拜师宣言<br></li>
<li>已收徒数量<br></li>
<li>最大收徒数量<br></li>
</ul>
</div>
</li>
<li><a id="org6513c45"></a>不用分页<br></li>
</ol>
</div>
<div id="outline-container-org01419a5" class="outline-5">
<h5 id="org01419a5"><span class="section-number-5">1.1.2.2</span> 接受拜师申请</h5>
<div class="outline-text-5" id="text-1-1-2-2">
</div>
<ol class="org-ol">
<li><a id="orgcfab58b"></a>从申请列表中删除相应申请记录<br></li>
<li><a id="org3cbbb64"></a>返回状态：收徒成功；收徒失败，名额已达上限；收徒失败，他已拜师<br></li>
</ol>
</div>
<div id="outline-container-org961be1b" class="outline-5">
<h5 id="org961be1b"><span class="section-number-5">1.1.2.3</span> 我的徒弟接口</h5>
<div class="outline-text-5" id="text-1-1-2-3">
</div>
<ol class="org-ol">
<li><a id="org2faf951"></a>元数据<br>
<div class="outline-text-6" id="text-1-1-2-3-1">
<ul class="org-ul">
<li>徒弟信息：昵称、头像、主播等级等<br></li>
</ul>
</div>
</li>
<li><a id="org97a83e7"></a>如何排序？按师徒招收时间，最新的排上面<br></li>
</ol>
</div>
<div id="outline-container-orgba166d3" class="outline-5">
<h5 id="orgba166d3"><span class="section-number-5">1.1.2.4</span> 解除师徒关系接口</h5>
<div class="outline-text-5" id="text-1-1-2-4">
</div>
<ol class="org-ol">
<li><a id="orgabd4b92"></a>返回状态：解除成功；解除失败<br></li>
<li><a id="org9fb3360"></a>向徒弟发送私信。私信中是解除通知，点击进入h5申请拜师页面。需要和客户端确认是否支持<br></li>
</ol>
</div>
</div>
<div id="outline-container-org29c7d6f" class="outline-4">
<h4 id="org29c7d6f"><span class="section-number-4">1.1.3</span> 申请逻辑</h4>
<div class="outline-text-4" id="text-1-1-3">
<ul class="org-ul">
<li>拜师申请保留时长？24小时<br></li>
<li>申请列表过期删除？对<br></li>
<li>自己收徒成功时，同意按钮变成已收徒，改成删除申请记录。因为可以在我的徒弟页查看徒弟<br></li>
<li>其他人收徒成功时，从别人的申请列表中删除申请记录。<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orga060aab" class="outline-3">
<h3 id="orga060aab"><span class="section-number-3">1.2</span> 加分规则？分榜总榜加分规则？直播间弹窗等展示的分数是哪个分数？</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>师傅每日收礼 10% 计入徒弟榜单中，每日上限 10000<br></li>
<li>非冲刺阶段：除冲刺阶段外都是非冲刺阶段  2个限定礼物  如何计分？<br></li>
<li>冲刺阶段：20:00-21:00  多少限定礼物？  如何计分？<br>
<ul class="org-ul">
<li>徒弟榜单中的前 10 名进入冲刺时刻。如果主播没开播，空着这一段时间，浮动icon 不展示<br></li>
<li>每人 6min，按照榜单名次依次进行，未直播的视为放弃，空着这一段时间。之后选下个主播进入冲刺时刻<br></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org171c5f5" class="outline-3">
<h3 id="org171c5f5"><span class="section-number-3">1.3</span> 直播间弹窗</h3>
<div class="outline-text-3" id="text-1-3">
</div>
<div id="outline-container-orgc23ff25" class="outline-4">
<h4 id="orgc23ff25"><span class="section-number-4">1.3.1</span> 徒弟端</h4>
<div class="outline-text-4" id="text-1-3-1">
<ul class="org-ul">
<li>个人分数、师傅贡献分<br></li>
<li>距离上一名还差 xx 分。特殊情况需要考虑？<br></li>
</ul>
</div>
</div>
<div id="outline-container-org1ba52a6" class="outline-4">
<h4 id="org1ba52a6"><span class="section-number-4">1.3.2</span> 师傅端</h4>
<div class="outline-text-4" id="text-1-3-2">
<ul class="org-ul">
<li>展示 5 名徒弟，分数是展示徒弟的分数还是师傅的贡献分？<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orga428d95" class="outline-3">
<h3 id="orga428d95"><span class="section-number-3">1.4</span> 冲刺时刻浮动icon</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>xxx 冲刺中<br></li>
<li>剩余 05:30<br></li>
<li>点击跳转目标主播直播间<br></li>
<li>主播端只展示不跳转，观众端跳转<br></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orga2fd503" class="outline-2">
<h2 id="orga2fd503"><span class="section-number-2">2</span> 注意事项</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgb45352e" class="outline-3">
<h3 id="orgb45352e"><span class="section-number-3">2.1</span> 师傅拒绝徒弟，申请列表标志状态</h3>
</div>
<div id="outline-container-orgb801e3a" class="outline-3">
<h3 id="orgb801e3a"><span class="section-number-3">2.2</span> 师傅列表是否需要登陆</h3>
</div>
<div id="outline-container-org884dea2" class="outline-3">
<h3 id="org884dea2"><span class="section-number-3">2.3</span> 判断师傅徒弟接口</h3>
</div>
<div id="outline-container-org6d1abb3" class="outline-3">
<h3 id="org6d1abb3"><span class="section-number-3">2.4</span> 师傅可以解除师徒关系，徒弟不能解除师徒关系，需要提前向用户说明。否则很可能出现一大波想解除师徒关系的徒弟</h3>
</div>
</div>
<div id="outline-container-orgd4b9439" class="outline-2">
<h2 id="orgd4b9439"><span class="section-number-2">3</span> 开发排期</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org09b5cce" class="outline-3">
<h3 id="org09b5cce"><span class="section-number-3">3.1</span> http 接口  4d</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-orgb810d59" class="outline-4">
<h4 id="orgb810d59"><span class="section-number-4">3.1.1</span> 判断师傅徒弟接口    1d</h4>
</div>
<div id="outline-container-org5f3c418" class="outline-4">
<h4 id="org5f3c418"><span class="section-number-4">3.1.2</span> 师傅列表接口        1d</h4>
</div>
<div id="outline-container-orge1a44be" class="outline-4">
<h4 id="orge1a44be"><span class="section-number-4">3.1.3</span> 申请接口            1d</h4>
</div>
<div id="outline-container-org337db6b" class="outline-4">
<h4 id="org337db6b"><span class="section-number-4">3.1.4</span> 申请列表接口        1d</h4>
</div>
<div id="outline-container-org42f35ce" class="outline-4">
<h4 id="org42f35ce"><span class="section-number-4">3.1.5</span> 接受/拒绝拜师申请接口  1.5d</h4>
</div>
<div id="outline-container-org76c45fb" class="outline-4">
<h4 id="org76c45fb"><span class="section-number-4">3.1.6</span> 我的徒弟接口        0.5d</h4>
</div>
<div id="outline-container-orgdd1baa3" class="outline-4">
<h4 id="orgdd1baa3"><span class="section-number-4">3.1.7</span> 解除关系接口        1.5d</h4>
</div>
<div id="outline-container-orgfeffeff" class="outline-4">
<h4 id="orgfeffeff"><span class="section-number-4">3.1.8</span> 直播间弹窗接口      1d</h4>
</div>
</div>

<div id="outline-container-orga53c32e" class="outline-3">
<h3 id="orga53c32e"><span class="section-number-3">3.2</span> 加分模块 2.5d</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-orged98ae8" class="outline-4">
<h4 id="orged98ae8"><span class="section-number-4">3.2.1</span> 正常加分。加日榜、总榜  2d</h4>
</div>
</div>

<div id="outline-container-org4647761" class="outline-3">
<h3 id="org4647761"><span class="section-number-3">3.3</span> 浮动 icon 1.5d</h3>
</div>

<div id="outline-container-org417e213" class="outline-3">
<h3 id="org417e213"><span class="section-number-3">3.4</span> buffer 时间  1d</h3>
</div>

<div id="outline-container-org6b2bb17" class="outline-3">
<h3 id="org6b2bb17"><span class="section-number-3">3.5</span> 总 9d  25号联调</h3>
</div>
</div>
<div id="outline-container-org0ef267e" class="outline-2">
<h2 id="org0ef267e"><span class="section-number-2">4</span> sql</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #5f8700;">CREATE</span> <span style="color: #5f8700;">TABLE</span> `mg_master` (
  `id` <span style="color: #af8700;">int</span>(10) unsigned <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> AUTO_INCREMENT,
  `event_name` <span style="color: #af8700;">varchar</span>(40) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> COMMENT <span style="color: #00afaf;">'name of event'</span>,
  `uid` <span style="color: #af8700;">varchar</span>(32) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> COMMENT <span style="color: #00afaf;">'&#24072;&#20613; uid'</span>,
  `reason` <span style="color: #af8700;">varchar</span>(512) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> <span style="color: #5f8700;">DEFAULT</span> <span style="color: #00afaf;">''</span> COMMENT <span style="color: #00afaf;">'&#24403;&#36873;&#24072;&#20613;&#21407;&#22240;'</span>,
  `apply_cnt` <span style="color: #af8700;">int</span>(10) unsigned <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> <span style="color: #5f8700;">DEFAULT</span> <span style="color: #00afaf;">'0'</span>,
  `is_enabled` tinyint(4) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> <span style="color: #5f8700;">DEFAULT</span> <span style="color: #00afaf;">'0'</span>,
  `ctime` datetime <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> <span style="color: #5f8700;">DEFAULT</span> <span style="color: #5f8700;">CURRENT_TIMESTAMP</span>,
  `mtime` <span style="color: #af8700;">timestamp</span> <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> <span style="color: #5f8700;">DEFAULT</span> <span style="color: #5f8700;">CURRENT_TIMESTAMP</span> <span style="color: #5f8700;">ON</span> <span style="color: #5f8700;">UPDATE</span> <span style="color: #5f8700;">CURRENT_TIMESTAMP</span>,
  <span style="color: #5f8700;">PRIMARY</span> <span style="color: #5f8700;">KEY</span> (`id`),
  <span style="color: #5f8700;">UNIQUE</span> <span style="color: #5f8700;">KEY</span> `event_name_uid` (`event_name`, `uid`)
) ENGINE = InnoDB AUTO_INCREMENT = 1 <span style="color: #5f8700;">DEFAULT</span> CHARSET = utf8mb4;


<span style="color: #5f8700;">CREATE</span> <span style="color: #5f8700;">TABLE</span> `mg_apprentice` (
  `id` <span style="color: #af8700;">int</span>(10) unsigned <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> AUTO_INCREMENT,
  `event_name` <span style="color: #af8700;">varchar</span>(40) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> COMMENT <span style="color: #00afaf;">'name of event'</span>,
  `master` <span style="color: #af8700;">varchar</span>(32) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> COMMENT <span style="color: #00afaf;">'&#24072;&#20613; uid'</span>,
  `uid` <span style="color: #af8700;">varchar</span>(32) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> COMMENT <span style="color: #00afaf;">'&#24466;&#24351; uid'</span>,
  `whisper` <span style="color: #af8700;">varchar</span>(512) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> <span style="color: #5f8700;">DEFAULT</span> <span style="color: #00afaf;">''</span> COMMENT <span style="color: #00afaf;">'&#25308;&#24072;&#23459;&#35328;'</span>,
  `status` tinyint(4) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> <span style="color: #5f8700;">DEFAULT</span> <span style="color: #00afaf;">'0'</span> COMMENT <span style="color: #00afaf;">'0-&#27809;&#26377;&#20851;&#31995; 1-&#24072;&#24466; 2-&#30003;&#35831;&#25308;&#24072; 3-&#35299;&#38500;&#24072;&#24466; 4-&#25298;&#32477;&#25910;&#24466; 5-&#24050;&#26377;&#24072;&#20613;'</span>,
  `is_enabled` tinyint(4) <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> <span style="color: #5f8700;">DEFAULT</span> <span style="color: #00afaf;">'0'</span>,
  `ctime` datetime <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span>,
  `mtime` <span style="color: #af8700;">timestamp</span> <span style="color: #5f8700;">NOT</span> <span style="color: #5f8700;">NULL</span> <span style="color: #5f8700;">DEFAULT</span> <span style="color: #5f8700;">CURRENT_TIMESTAMP</span> <span style="color: #5f8700;">ON</span> <span style="color: #5f8700;">UPDATE</span> <span style="color: #5f8700;">CURRENT_TIMESTAMP</span>,
  <span style="color: #5f8700;">PRIMARY</span> <span style="color: #5f8700;">KEY</span> (`id`),
  <span style="color: #5f8700;">UNIQUE</span> <span style="color: #5f8700;">KEY</span> `event_name_uid_master` (`event_name`,`uid`,`master`)
) ENGINE = InnoDB AUTO_INCREMENT = 1 <span style="color: #5f8700;">DEFAULT</span> CHARSET = utf8mb4;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf2ee143" class="outline-2">
<h2 id="orgf2ee143"><span class="section-number-2">5</span> 运营配置</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre class="src src-js">{
    <span style="color: #00afaf;">"max_apply_daily"</span>: 5,
    <span style="color: #00afaf;">"max_apprentice"</span>: 5,
    <span style="color: #00afaf;">"devide_master_rule"</span>: {
        <span style="color: #00afaf;">"min_anchor_level"</span>: 30,
        <span style="color: #00afaf;">"jp_last_login"</span>: <span style="color: #00afaf;">"2019-11-01 00:00:00"</span>
    },
    <span style="color: #00afaf;">"master_to_apprentice_buff"</span>: 0.1,
    <span style="color: #00afaf;">"daily_board_start_time"</span>: <span style="color: #00afaf;">"00:00:00"</span>,
    <span style="color: #00afaf;">"daily_board_end_time"</span>: <span style="color: #00afaf;">"19:30:00"</span>,
    <span style="color: #00afaf;">"final_time_start_time"</span>: <span style="color: #00afaf;">"20:00:00"</span>,
    <span style="color: #00afaf;">"final_time_topk"</span>: 10,
    <span style="color: #00afaf;">"final_time_interval_minute"</span>: 6,
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org535603b" class="outline-2">
<h2 id="org535603b"><span class="section-number-2">6</span> 重启模块</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>http<br></li>
<li>admin<br></li>
<li>events-very_important<br></li>
<li>schedule-events<br></li>
<li>task_v2-normal<br></li>
<li>websocket<br></li>
</ul>
</div>
</div>
<div id="outline-container-org9c36f58" class="outline-2">
<h2 id="org9c36f58"><span class="section-number-2">7</span> 上线</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>建师傅表、徒弟表<br></li>
<li>插入师傅<br></li>
<li>发的消息的文案、open_url 是否需要调整<br></li>
</ul>
</div>
</div>
<div id="outline-container-orgcbda68c" class="outline-2">
<h2 id="orgcbda68c"><span class="section-number-2">8</span> 联调</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-orgce7f55c" class="outline-3">
<h3 id="orgce7f55c"><span class="section-number-3">8.1</span> 师傅列表带show信息</h3>
</div>
<div id="outline-container-org30fb1c1" class="outline-3">
<h3 id="org30fb1c1"><span class="section-number-3">8.2</span> 师傅列表未下发该师傅已申请字段</h3>
</div>
</div>
</div>
<div id="postamble" class="status">
<p>本笔记系统由
    <a href="">时中贺</a> 搭建和维护，使用
    <a href="https://www.gnu.org/software/emacs/">Emacs</a>
    <a href="http://orgmode.org/">Org mode</a> 编辑和构建
    <br />
    email: shi_zhonghe@163.com
</p>
<script src="http://www.langdebuqing.com/css/jquery-2.1.3.min.js"></script>
<script src="http://www.langdebuqing.com/css/main.js"></script>
</div>
</body>
</html>
